# Contribute to the Polkadot Developer Docs

## Quick Start for Contributors

**New to contributing?** Start here:

1. **Fork the repository** and create a branch for your changes
2. **Choose your review preference**: Let us know if you'd prefer to handle formatting and style reviews yourself, or if you'd like our team to take over to expedite the process

The documentation source files are written in [Markdown](https://daringfireball.net/projects/markdown) and follow the [PaperMoon style guide](https://github.com/papermoonio/documentation-style-guide/blob/main/style-guide.md). For topics not covered by PaperMoon, we default to the [Google developer documentation style guide](https://developers.google.com/style).

## Types of Contributions

### Documentation Updates
You can contribute by:
- **Fixing errors or outdated information** - Spotted incorrect information? Please fix it!
- **Improving clarity** - Make existing content clearer or more comprehensive
- **Adding missing content** - Fill gaps in the documentation
- **Updating examples** - Keep code examples current and functional

### Tutorial Contributions
For tutorial contributions, please see our [tutorial contribution guidelines](.CONTRIBUTING/tutorials/README.md).

## Contents

- [Contributing to Polkadot Documentation](#contributing-to-polkadot-documentation)
  - [Quick Start for Contributors](#quick-start-for-contributors)
  - [Types of Contributions](#types-of-contributions)
  - [Contents](#contents)
  - [Contribution Workflow](#contribution-workflow)
    - [Generating AI-Ready Documentation](#generating-ai-ready-documentation)
  - [Viewing Site Locally](#viewing-site-locally)
    - [Clone Repositories](#clone-repositories)
    - [Install Dependencies and Serve Site](#install-dependencies-and-serve-site)
  - [Adding New Pages](#adding-new-pages)
    - [Creating a New Section](#creating-a-new-section)
      - [Example `.nav.yml` File](#example-navyml-file)
      - [Example `index.md` File](#example-indexmd-file)
    - [Adding Pages to Existing Section](#adding-pages-to-existing-section)
  - [Modifying Existing Pages](#modifying-existing-pages)
  - [Adding Code and Text Snippets](#adding-code-and-text-snippets)
  - [Adding Images](#adding-images)
    - [Image Annotations](#image-annotations)
  - [Search Engine Optimization (SEO)](#search-engine-optimization-seo)

## Contribution Workflow

### For Documentation Updates (Non-Tutorials)

Follow these steps when contributing documentation fixes, improvements, or new content:

1. **Fork and Create Branch**

   ```bash
   git clone https://github.com/your-username/polkadot-docs.git
   cd polkadot-docs
   git checkout -b your-feature-branch
   ```

2. **Make Your Changes**

   - Edit existing files or add new content
   - Follow the [style guide](https://github.com/papermoonio/documentation-style-guide/blob/main/style-guide.md)
   - Test your changes locally (see [Viewing Site Locally](#viewing-site-locally))

3. **Generate Updated AI Documentation**

   After making content changes, regenerate the AI-ready documentation files:

   ```bash
   python3 scripts/generate_llms_standard.py
   ```

   This updates the `llms.txt` and `llms-full.txt` files that power our AI-ready documentation.

   **Note**: This script needs to be run on every PR once all changes have been committed.

4. **Create Pull Request**

   - Push your branch and create a pull request
   - Use the PR template to indicate your review preference
   - Include a clear description of your changes

5. **Review Process Choice**

   In your pull request, please let us know:
   - **Option A**: "I have time to handle formatting and style review feedback myself"
   - **Option B**: "Please have the Polkadot docs team take over for formatting review to expedite the process"

   **If choosing Option B**:
   - If you enable "Allow edits from maintainers" when creating your PR (this option appears for PRs from forks), our team can perform changes directly on your branch
   - If "Allow edits from maintainers" is not enabled, we will create the `follow-up/PR-[original_pr_number]` branch and go through the intermediary workflow described below

### Hand-off Process (Internal Team Workflow)

When a contributor chooses Option B (or becomes unresponsive) and does not have "Allow edits from maintainers" enabled, the following workflow will apply:

1. **Create Intermediary Branch**: Create a new branch named `follow-up/PR-[original_pr_number]`
2. **Redirect Original PR**: Change the destination of the original PR to the intermediary branch
3. **Complete Formatting Review**: Perform style and formatting reviews on the intermediary branch
4. **Final Merge**: Merge the completed intermediary branch into master

## Viewing Site Locally

You may want to spin up a local version of the documentation site to preview your changes. This guide will cover the steps needed to serve a local version.

### Clone Repositories

Building and serving the site requires cloning two repositories:

- **[Polkadot MkDocs](https://github.com/papermoonio/polkadot-mkdocs)**: Contains the MkDocs configuration files, theme overrides, and custom CSS for the Polkadot documentation site.

- **[Polkadot Docs](https://github.com/polkadot-developers/polkadot-docs)**: The actual content is stored in the `polkadot-docs` repository and pulled into the `polkadot-mkdocs` directory during build.

For everything to work correctly, the file structure needs to be as follows:

```bash
polkadot-mkdocs
|--- /material-overrides/ (folder)
|--- /polkadot-docs/ (repository)
|--- mkdocs.yml
```

To set up the structure, follow these steps:

1. Clone this repository:

    ```bash
    git clone https://github.com/papermoonio/polkadot-mkdocs
    ```

2. Inside the folder just created, clone the `polkadot-docs` repository:

    ```bash
    cd polkadot-mkdocs
    git clone https://github.com/polkadot-developers/polkadot-docs.git
    ```

### Install Dependencies and Serve Site

1. Now that the repositories are cloned and properly nested, use the [pip](https://pypi.org/project/pip/) package installer to install [mkdocs](https://www.mkdocs.org/) and other required dependencies by running the command:

    ```bash
    pip install -r requirements.txt
    ```

    This command will install all dependencies listed in the `requirements.txt` file.

2. Switch to the `polkadot-docs` directory and use [npm](https://docs.npmjs.com/about-npm) to install dependencies:

    ```bash
    cd polkadot-docs && npm install
    ```

3. Navigate back to the `polkadot-mkdocs` folder, then build the site:

    ```bash
    mkdocs serve
    ```

After a successful build, the site should be available at http://127.0.0.1:8000.

## Adding New Pages

When adding new pages to the documentation site, it is important to ensure all relevant items are updated correctly to prevent broken links and unexpected behavior. This section guides you through the steps to add new documentation pages.

### Creating a New Section

To create a new section of pages, you will first need to create a subdirectory with the desired name of the section. The root directory, and every subdirectory, must contain the following files:

- **`.nav.yml`**: Defines the structure of the documentation site.
- **`index.md`**: A landing page which can be used to provide more context about the content in the section.

#### Example `.nav.yml` File

```markdown
title: Application Developers
nav: 
  - index.md
  - 'Polkadot SDK': 'polkadot-sdk.md'
  - interact
  - tooling
```

This example would result in adding 'Application Developers' as a section with two files inside, `index.md` and `polkadot-sdk.md`, and two additional subdirectories named `interact` and `tooling`.

Some important things to note:

- The `title` field at the top of the page represents the display name for the section. This is displayed on the left-side navigation bar when viewing the site.
- The `index.md` page should always be the first item in the `nav` list.
- Files follow the convention of `'Display Name': 'file-name.md'`.
- Sections are listed by their directory name in the source code. For example, the Tooling section will be added to the navigation simply by using the directory name: `tooling`.

#### Example `index.md` File

```markdown
---
title: Build Chains with Polkadot
description: Learn how to build and customize blockchains with Polkadot SDK. Explore flexible tools, pre-built modules, and tutorials for efficient blockchain development.
---

<!-- Add content in markdown here -->  
```

Some important things to note:

- The `title` represents the `<title>` tag and is used for SEO purposes.
- The `description` represents the meta-description and is also used for SEO purposes.

### Adding Pages to Existing Section

If you are adding pages to an existing section, the steps are simplified. However, it's essential to ensure you complete these steps to display the new page and its title on the documentation site correctly:

- Add the new markdown page to the appropriate section. Note that the filename becomes part of the URL for this page. See the [style guide](https://github.com/papermoonio/documentation-style-guide/blob/main/style-guide.md#naming-conventions) for additional guidance on naming conventions.
- Ensure the new content page includes the following:
    - **`title`**: Represents the `<title>` tag and is used for SEO purposes (not displayed on the published site) Titles have a maximum length of 45 characters.
    - **`description`**: Represents the meta-description and is also used for SEO purposes (not displayed on the published site). Descriptions should be 120-160 characters and should provide a preview into the page topic.
    - **Page title**: An H1 heading title to be displayed at the top of the page.
    - **`## Checking Prerequisites` section**: If the guide requires the user to have specific developer tools installed, for example, Docker or MetaMask, it should be listed here.

- **Add the 'Display Name'**: 'file-name.md' for the new page to the `.nav.yml` file in the same subdirectory where you added the new page.

An example new content page might look like:

```md
---
title: Title for SEO purposes 
description: Description for SEO purposes. This should be a sentence or two that is between 120-160 characters long.
---

# Page Title

## Introduction

Write 2-3 paragraphs to serve as the introduction here.

...
```

More resources for [SEO Optimization](#search-engine-optimization-seo) of titles and descriptions.

## Modifying Existing Pages

 To modify existing pages:

1. Ensure you are in the `polkadot-docs` directory, then create a new branch for your content:

    ```bash
    git checkout -b INSERT_NEW_BRANCH_NAME
    ```

2. Modify content as desired. Remember to place images and code snippets in the appropriate folders (see the following sections for details).
3. Review the [style guide](https://github.com/papermoonio/documentation-style-guide/blob/main/style-guide.md) to ensure your new content meets the guidelines.
3. Once you commit and push all of your changes, open a pull request for the new content branch against the `main` branch.
4. Monitor notifications and pull requests for feedback from code owners. At least one approval is required before merging content.

If your additions or modifications are limited to content on an existing page, there is no need to worry about the [`.nav.yml`](#example-navyml-file) or [`index.md`](#example-indexmd-file) files, as changes to page content don't affect these files.

## Adding Code and Text Snippets

Snippets are used to manage reusable lines of code or text. They are organized to mirror the structure of the docs site and stored under the root-level `.snippets` directory. For example, to add a code snippet to the page `develop/application-devs/tooling/chopsticks/overview.md`, you would place the code snippet in the folder `.snippets/code/application-devs/tooling/chopsticks/overview`.

Text snippets are useful for pieces of copy you find the need to reuse often, such as disclaimers. Code snippets allow you to reuse pieces of code throughout a document while maintaining a single place to update that code when needed.

To link to a snippet, you can use the following syntax in the Markdown file:

```markdown
--8<-- 'code/<subdirectory>/<snippet-file-name>.js'
```

Text snippets are written in Markdown, as `.md` files, while code snippets should be written in their individual programming languages, for example, `.py` for Python or `.js` for JavaScript.

Learn more about the effective use of [snippets](https://facelessuser.github.io/pymdown-extensions/extensions/snippets/).

## Adding Images

- Store images in the `images` subdirectory, mirroring the docs site structure.

    - **Example**: an image on the page `/develop/application-devs/tooling/chopsticks/overview.md` goes in the `images/application-devs/tooling/chopsticks/overview` folder.

- Use `.webp` format. You can look up an image converter online to convert from `.jpeg`, `.png`, or other formats to `.webp`.
- Add [alt text](https://developers.google.com/style/images#alt-text) using the following syntax:

    ```markdown
    ![Alt text goes here](/docs/images/<subdirectory>/<image-file-name>.webp)
    ```

See the [style guide](https://github.com/papermoonio/documentation-style-guide/blob/main/style-guide.md#screenshots) for more tips on handling images.

### Image Annotations

To annotate images, you can use the provided assets for arrows and steps. These are located in the [.CONTRIBUTING/image-assets](./image-assets/) directory, which contains SVGs you can overlay on images.

- **Arrows**: Highlight a single important aspect.

    ✅ Use arrows to highlight one key element.

    ❌ Do not use arrows if multiple elements need highlighting, use steps instead.

- **Steps**: Highlight multiple actions or elements. If the page shows a numbered list (1, 2, 3...), then use numeric steps (1–9) in the image. If the page shows an alphabetical list (a, b, c...), then use lettered steps (a–i) in the image.

    ✅ Use steps to show several steps on a page.

    ❌ Do not use steps if there is only one thing to highlight, use an arrow instead.

## Search Engine Optimization (SEO)

Here are some resources to help you create good titles and descriptions for SEO:

- [Google's recommendation on good titles](https://developers.google.com/search/docs/advanced/appearance/title-link?hl=en)
- [Google's recommendation on good descriptions](https://developers.google.com/search/docs/advanced/appearance/snippet?hl=en)

In general, titles should be between 50 and 60 characters and descriptions should be between 120 and 160 characters.
